{% extends "richie/fullwidth.html" %}
{% load cms_tags extra_tags i18n %}

{% block meta_opengraph %}
    <meta property="og:title" content="{{ request.current_page.get_title|truncatechars:65 }}">
    <meta property="og:url" content="{{ SITE.web_url }}{{ request.current_page.get_absolute_url }}">
    <meta property="og:locale" content="{{ LANGUAGE_CODE }}">
    <meta property="og:site_name" content="{{ SITE.name }}">
    <meta property="og:type" content="profile, profile:first_name, profile:last_name">
    {% comment %}<meta property="og:image" content="Should be filled from portrait url">{% endcomment %}
    {% comment %}<meta property="og:description" content="Should be filled from resume, limited to 300char and HTML stripped">{% endcomment %}
{% endblock meta_opengraph %}

{% block content %}
<div class="person-detail">
  <h1 class="person-detail__title">
    {% render_model_block current_page.person %}
      {{ instance.person_title.title }} {{ instance.first_name }} {{ instance.last_name }}
    {% endrender_model_block %}
  </h1>

  {% if current_page.publisher_is_draft or not current_page|is_empty_placeholder:"categories" %}
  <div class="person-detail__categories">
    {% with form_factor="tag" %}
      {% placeholder "categories" or %}
        <p class="person-detail__categories__empty">
          {% trans "No associated categories" %}
        </p>
      {% endplaceholder %}
    {% endwith %}
  </div>
  {% endif %}

  <div class="person-detail__card">
    {% with header_level=2 %}
      <div class="person-detail__card__media">
        {% with width=216 height=120 %}
          {% placeholder "portrait" or %}
            <div class="person-detail__card__media__empty">{% trans "Portrait" %}</div>
          {% endplaceholder %}
        {% endwith %}
      </div>

      <div class="person-detail__card__content">
        <div class="person-detail__card__content__wrapper">
          {% placeholder "resume" or %}
            <p class="person-detail__card__content__wrapper__empty">{% trans "Enter your bio here..." %}</p>
          {% endplaceholder %}

          {% placeholder "maincontent" %}
        </div>
      </div>

    {% endwith %}
  </div>

</div>
{% endblock content %}
